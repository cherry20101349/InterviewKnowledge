<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
        /**
         * this的绑定方式
         */
        /*
         * https://juejin.im/post/6844904083707396109
         *
         * 1，默认绑定(非严格模式下this指向全局对象，严格模式下this会绑定到undefined)
         * 2，隐式绑定(当函数引用有上下文对象时，如obj.foo()的调用方式，foo内的this指向obj)
         * 3，显示绑定(通过call()或者apply()方法直接指定this的绑定对象，如foo.cal(obj))
         * 4，new绑定
         * 5，箭头函数绑定(this的执行由外层作用域决定)
         */
    </script>
    <script>
        //=============默认绑定==========
        // 例1
        var a = 10;
        //        example1();
        function example1() {
            console.log(this.a);// 10
        }

        // 例2
        var a = 10;
        function example2() {
            "use strict";
            console.log('this1', this);
            console.log(window.a);
            console.log(this.a);
        }
        console.log(window.foo);
        console.log('this2', this);
        //        example2();

        // 例3  使用let或者const声明变量，变量是不会被绑定到window的。
        let b = 10;
        const c = 20;
        function example3() {
            console.log(this.b);// undefined
            console.log(this.c);// undefined
        }
        console.log(window.b);// undefined
        //        example3();

        // 例4
        var a = 1;
        function example4() {
            var a = 2;
            console.log(this);// window
            console.log(this.a);// 1
        }
        //        example4();

        // 例5  在inner中，this指向的还是window
        var a = 1;
        function example5() {
            var a = 2;
            function inner() {
                console.log(this.a);// 1
            }
            inner();
        }
//        example5()

        //=============隐式绑定==========
        // 例1  this指向的是obj
        function example6 () {
            console.log(this.a);// 1
        }
        var obj = { a: 1, example6 };
        var a = 2;
        obj.example6()
    </script>
</head>
<body>

</body>
</html>