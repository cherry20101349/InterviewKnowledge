<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
        /**
         * 微任务和宏任务的区别
         */
        /*
         * 宏任务：当前调用栈中执行的代码称为宏任务。(主代码块，定时器等等)
         * 微任务：当前(此次事件循环中)宏任务执行完，在下一个宏任务开始之前需要执行的任务，可以理解为回调事件。(promise.then，proness.nextTick等等)
         * 宏任务中的时间放在callback queue中，由事件触发线程维护；
         * 微任务的时间放在微任务队列中，由js引擎线程维护。
         *
         * 微任务：process.nextTick(Node独有)、MutationObserver、Promise.then catch finally
         * 宏任务：I/O、setTimeout、setInterval、setImmediate、requestAnimationFrame
         */

        /**
         * 运行机制
         */
        /*
         * 1，在执行栈中执行一个宏任务。
         * 2，执行过程中遇到微任务，将微任务添加到微任务队列中。
         * 3，当前宏任务执行完毕，立即执行微任务队列中的任务。
         * 4，当前微任务队列中的任务执行完毕，检查渲染，GUI线程接管渲染。
         * 5. 渲染完毕后，js线程接管，开启下一次事件循环，执行下一次宏任务（事件队列中取）。
         */
    </script>
</head>
<body>

</body>
</html>